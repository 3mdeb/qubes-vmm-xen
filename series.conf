
patches.fedora/xen.use.fedora.ipxe.patch
patches.fedora/xen.fedora.efi.build.patch
patches.fedora/xen.gcc5.fix.patch
# EFI workarounds
patches.misc/0001-EFI-early-Add-noexit-to-inhibit-calling-ExitBootServices.patch
patches.misc/0002-efi-Ensure-incorrectly-typed-runtime-services-get-ma.patch
patches.misc/0001-Add-xen.cfg-options-for-mapbs-and-noexitboot.patch

# backports
patches.misc/0001-xenalyze-fix-misleading-indentation.patch
patches.misc/0001-xenalyze-remove-cr3_compare_total.patch
patches.misc/0001-vtpmmgr-fix-misleading-indentation.patch
patches.misc/0001-libxc-prefer-using-privcmd-character-device.patch
patches.misc/0001-libfsimage-replace-deprecated-readdir_r-with-readdir.patch
patches.misc/0001-libxl-replace-deprecated-readdir_r-with-readdir.patch
patches.misc/0001-xen-move-domain-lookup-for-getdomaininfo-to-the-same.patch
patches.misc/0002-flask-policy-allow-device-model-to-get-info-about-it.patch
patches.misc/0002-xen-allow-XEN_DOMCTL_getdomaininfo-for-device-model-.patch

# Security fixes
patches.security/xsa155-xen-0001-xen-Add-RING_COPY_REQUEST.patch
patches.security/xsa155-xen-0002-blktap2-Use-RING_COPY_REQUEST.patch
patches.security/xsa226-4.6.patch
patches.security/xsa227-4.6.patch
patches.security/xsa228-4.8.patch
patches.security/xsa230.patch
patches.security/xsa231-4.7.patch
patches.security/xsa232.patch
patches.security/xsa233.patch
patches.security/xsa234-4.6.patch
patches.security/xsa236-4.9.patch
patches.security/xsa237-0001-x86-dont-allow-MSI-pIRQ-mapping-on-unowned-device.patch
patches.security/xsa237-0002-x86-enforce-proper-privilege-when-mapping-pIRQ-s.patch
patches.security/xsa237-0003-x86-MSI-disallow-redundant-enabling.patch
patches.security/xsa237-0004-x86-IRQ-conditionally-preserve-irq-pirq-mapping-on-error.patch
patches.security/xsa237-0005-x86-FLASK-fix-unmap-domain-IRQ-XSM-hook.patch
patches.security/xsa238-4.6.patch
patches.security/xsa239.patch
patches.security/xsa240-0001-x86-limit-linear-page-table-use-to-a-single-level.patch
patches.security/xsa240-0002-x86-mm-Disable-PV-linear-pagetables-by-default.patch
patches.security/xsa241-4.9.patch
patches.security/xsa242-4.9.patch
patches.security/xsa243-4.6-1.patch
patches.security/xsa243-4.6-2.patch
patches.security/xsa244-4.6.patch
patches.security/xsa246-4.7.patch
patches.security/xsa247-0001-p2m-Always-check-to-see-if-removing-a-p2m-entry-actu.patch
patches.security/xsa247-0002-p2m-Check-return-value-of-p2m_set_entry-when-decreas.patch
patches.security/xsa254-c6e9e609-x86-entry-Remove-support-for-partial-cpu_user_regs-f.patch
patches.security/xsa254-a065841b-x86-mm-Always-set-_PAGE_ACCESSED-on-L4e-updates.patch
patches.security/xsa254-91dc902f-x86-Meltdown-band-aid-against-malicious-64-bit-PV-gu.patch
patches.security/xsa254-44ad7f68-x86-allow-Meltdown-band-aid-to-be-disabled.patch

# Branch Target Injection (aka Variant 2, Spectre, SP2, CVE-2017-5715)
# mitigation (from XSA-254)
patches.security/xsa254-1222333a-xen-arm-Add-macros-to-handle-the-MIDR.patch
patches.security/xsa254-3c706195-xen-arm-Add-cpu_hwcap-bitmap.patch
patches.security/xsa254-225e9c70-xen-arm-cpufeature-Provide-an-helper-to-check-if-a-c.patch
patches.security/xsa254-56510154-xen-arm-Detect-silicon-revision-and-set-cap-bits-acc.patch
patches.security/xsa254-ee23fcc2-xen-arm-Introduce-enable-callback-to-enable-a-capabi.patch
patches.security/xsa254-a3578802-xen-arm64-Add-missing-MIDR-values-for-Cortex-A72-A73.patch
patches.security/xsa254-2b1457f9-xen-arm-cpuerrata-Add-MIDR_ALL_VERSIONS.patch
patches.security/xsa254-d7b8190d-xen-arm64-Add-skeleton-to-harden-the-branch-predicto.patch
patches.security/xsa254-15adcf39-xen-arm64-Implement-branch-predictor-hardening-for-a.patch
patches.security/xsa254-c93bcf94-xen-arm32-entry-Consolidate-DEFINE_TRAP_ENTRY_-macro.patch
patches.security/xsa254-d779cc1f-xen-arm32-Add-missing-MIDR-values-for-Cortex-A17-and.patch
patches.security/xsa254-9a852e0e-xen-arm32-entry-Add-missing-trap_reset-entry.patch
patches.security/xsa254-8005ed3e-xen-arm32-Add-skeleton-to-harden-branch-predictor-al.patch
patches.security/xsa254-e54a8c61-xen-arm32-Invalidate-BTB-on-guest-exit-for-Cortex-A1.patch
patches.security/xsa254-dbb35531-xen-arm32-Invalidate-icache-on-guest-exist-for-Corte.patch
patches.security/xsa254-9d534c12-xen-arm32-entry-Document-the-purpose-of-r11-in-the-t.patch
patches.security/xsa254-a735c7ae-x86-microcode-Add-support-for-fam17h-microcode-loadi.patch
patches.security/xsa254-9ce1a718-x86-alt-Break-out-alternative-asm-into-a-separate-he.patch
patches.security/xsa254-03c7d2cd-x86-alt-Introduce-ALTERNATIVE-_2-macros.patch
patches.security/xsa254-f7e273a0-x86-entry-Rearrange-RESTORE_ALL-to-restore-register-.patch
patches.security/xsa254-75263f79-x86-hvm-Use-SAVE_ALL-to-construct-the-cpu_user_regs-.patch
patches.security/xsa254-ec050904-x86-entry-Erase-guest-GPR-state-on-entry-to-Xen.patch
patches.security/xsa254-af5b61af-common-wait-Clarifications-to-wait-infrastructure.patch
patches.security/xsa254-8edfc82f-x86-Support-compiling-with-indirect-branch-thunks.patch
patches.security/xsa254-9089da9c-x86-Support-indirect-thunks-from-assembly-code.patch
patches.security/xsa254-ab20c5c8-x86-boot-Report-details-of-speculative-mitigations.patch
patches.security/xsa254-8335c8ae-x86-amd-Try-to-set-lfence-as-being-Dispatch-Serialis.patch
patches.security/xsa254-2613a1bc-x86-Introduce-alternative-indirect-thunks.patch
patches.security/xsa254-ff4800ca-x86-feature-Definitions-for-Indirect-Branch-Controls.patch
patches.security/xsa254-4d215491-x86-cmdline-Introduce-a-command-line-option-to-disab.patch
patches.security/xsa254-4e1b9e98-x86-cpuid-Handling-of-IBRS-IBPB-STIBP-and-IBRS-for-g.patch
patches.security/xsa254-41a5ccec-x86-msr-Emulation-of-MSR_-SPEC_CTRL-PRED_CMD-for-gue.patch
patches.security/xsa254-db743b04-x86-migrate-Move-MSR_SPEC_CTRL-on-migrate.patch
patches.security/xsa254-44c26665-x86-hvm-Permit-guests-direct-access-to-MSR_-SPEC_CTR.patch
patches.security/xsa254-0163087e-x86-entry-Organise-the-use-of-MSR_SPEC_CTRL-at-each-.patch
patches.security/xsa254-feba571a-x86-entry-Organise-the-clobbering-of-the-RSB-RAS-on-.patch
patches.security/xsa254-c25ea9a1-x86-entry-Avoid-using-alternatives-in-NMI-MC-paths.patch
patches.security/xsa254-642c6037-x86-boot-Calculate-the-most-appropriate-BTI-mitigati.patch
patches.security/xsa254-8994cf3c-x86-ctxt-Issue-a-speculation-barrier-between-vcpu-co.patch
patches.security/xsa254-75bdd693-x86-idle-Clear-SPEC_CTRL-while-idle.patch
patches.security/xsa254-7e20b9b2-x86-PV-correctly-count-MSRs-to-migrate.patch
patches.security/xsa254-0fbf30a7-x86-hvm-Don-t-corrupt-the-HVM-context-stream-when-wr.patch
patches.security/x86-PV-also-cover-Dom0-in-SPEC_CTRL-PRED_CMD-emulati.patch
patches.security/021009eb-x86-two-fixes-to-Spectre-v2-backports.patch
patches.security/4c1e2d33-tools-libxc-Avoid-generating-inappropriate-zero-cont.patch
patches.security/525c3816-tools-libxc-Fix-restoration-of-PV-MSRs-after-migrate.patch
patches.security/33f70b87-x86-spec_ctrl-Fix-several-bugs-in-SPEC_CTRL_ENTRY_FR.patch
patches.security/0b389304-x86-entry-Fix-passing-6th-argument-for-compat-hyperc.patch
# Backport improved early microcode loading to allow usage of BTI related
# microcode updates without updating the BIOS.
patches.security/e64f22df-x86-microcode-Avoid-undefined-behaviour-from-signed-.patch
patches.security/f97838bb-x86-Move-microcode-loading-earlier.patch
patches.security/x86-correct-ordering-of-operations-during-S3-resu.patch
patches.security/x86-suppress-BTI-mitigations-around-S3-suspend-resum.patch
patches.security/x86-check-feature-flags-after-resume.patch

patches.security/xsa260-1.patch
patches.security/xsa260-2.patch
patches.security/xsa260-3.patch
patches.security/xsa260-4.patch
patches.security/xsa261-4.7.patch
patches.security/xsa262-4.6.patch
# Prerequisite for XSA 263:
patches.security/x86-spec_ctrl-Updates-to-retpoline-safety-decision-m.patch
patches.security/xsa263-4.6-0001-x86-spec_ctrl-Read-MSR_ARCH_CAPABILITIES-only-once.patch
patches.security/xsa263-4.6-0002-x86-spec_ctrl-Express-Xen-s-choice-of-MSR_SPEC_CTRL-.patch
patches.security/xsa263-4.6-0003-x86-spec_ctrl-Merge-bti_ist_info-and-use_shadow_spec.patch
patches.security/xsa263-4.6-0004-x86-spec_ctrl-Fold-the-XEN_IBRS_-SET-CLEAR-ALTERNATI.patch
patches.security/xsa263-4.6-0005-x86-spec_ctrl-Rename-bits-of-infrastructure-to-avoid.patch
patches.security/xsa263-4.6-0006-x86-spec_ctrl-Elide-MSR_SPEC_CTRL-handling-in-idle-c.patch
patches.security/xsa263-4.6-0007-x86-spec_ctrl-Split-X86_FEATURE_SC_MSR-into-PV-and-H.patch
patches.security/xsa263-4.6-0008-x86-spec_ctrl-Explicitly-set-Xen-s-default-MSR_SPEC_.patch
patches.security/xsa263-4.6-0009-x86-cpuid-Improvements-to-guest-policies-for-specula.patch
patches.security/xsa263-4.6-0010-x86-spec_ctrl-Introduce-a-new-spec-ctrl-command-line.patch
patches.security/xsa263-4.6-0011-x86-AMD-Mitigations-for-GPZ-SP4-Speculative-Store-By.patch
patches.security/xsa263-4.6-0012-x86-Intel-Mitigations-for-GPZ-SP4-Speculative-Store-.patch
patches.security/xsa263-4.6-0013-x86-msr-Virtualise-MSR_SPEC_CTRL.SSBD-for-guests-to-.patch

# Upstreamable patches
patches.libxl/xen-libxl-error-write-perm.patch
patches.libxl/xen-xl-create-quiet.patch
#patches.libxl/libxl-allow-PHY-backend-for-files-allocate-loop-devi.patch
#patches.libxl/libxl-do-not-call-default-block-script.patch
patches.libxl/libxl-make-nic-bridge-parameter-optional-do-not-fill.patch
patches.libxl/libxl-do-not-for-backend-on-PCI-remove-when-backend-.patch
patches.libxl/libxl-fix-libxl_device_-_remove-with-driver-domain-s.patch
patches.libxl/libxl-suspend.patch
patches.misc/stubdom-make-GMP-aware-that-it-s-being-cross-compiled.patch
patches.misc/stubdom-gmp-compile-fix.patch
patches.libxl/0001-libxl-attach-xen-pciback-only-to-PV-domains.patch
patches.libxl/0002-libxl-attach-PCI-device-to-qemu-only-after-setting-p.patch
patches.libxl/0003-libxl-don-t-try-to-manipulate-json-config-for-stubdo.patch
patches.misc/hvmpt01-minios-exprom-size.patch
patches.misc/hvmpt02-disable-msi-caps.patch
patches.misc/hvmpt03-passthrough-log.patch
patches.misc/hvmpt04-minios-nomask-bar-addrs.patch
patches.misc/hvmpt05-hide-pio-bars.patch
patches.misc/hvmpt06-fix-msix.patch


patches.misc/libxc-fix-xc_gntshr_munmap-semantic.patch
patches.misc/minios-ignore-close-0.patch
patches.misc/libvchan-Fix-cleanup-when-xc_gntshr_open-failed.patch
patches.misc/qemu-docs-utf8.patch
patches.libxl/0001-libxl-trigger-attach-events-for-devices-attached-bef.patch

patches.misc/minios-remove-net-device-instead-of-preparing-for-re.patch
patches.misc/xenconsole-sanitize-ESC-in-log.patch
patches.misc/qemu-keyboard-leds.patch
patches.misc/0001-tools-hotplug-Add-native-systemd-xendriverdomain.ser.patch
patches.misc/0001-systemd-use-standard-dependencies-for-xendriverdomai.patch


# GCC7/8 fixes
patches.libxl/0001-tools-include-sys-sysmacros.h-on-Linux.patch
patches.misc/tools-misc-xenlockprof-fix-possible-format-string-overflow.patch
patches.misc/v2-tools-fix-several-format-truncation-warnings-with-GCC-7.patch
patches.misc/stubdom-fix-vtpm-compilation-on-GCC-7.patch
patches.misc/vtpmmgr-make-inline-functions-static.patch
patches.misc/mini-os-link-to-libgcc.a-to-fix-build-with-gcc7.patch
# this probably breaks qemu-xen, but we don't use it anyway
patches.misc/qemu-acpi-dsdt-compile-workaround.patch
patches.misc/0001-tools-libxc-fix-strncpy-size.patch
patches.misc/tools-misc-fix-hypothetical-buffer-overflow-in-xen-l.patch
patches.misc/tools-blktap2-fix-hypothetical-buffer-overflow.patch
patches.misc/tools-blktap2-fix-possible-0-truncation.patch
patches.misc/tools-xenpmd-fix-possible-0-truncation.patch
patches.misc/tools-gdbsx-fix-Wstringop-truncation-warning.patch
patches.misc/tools-kdd-mute-spurious-gcc-warning.patch
patches.misc/stubdom-apply-gcc-8-fix-for-tpm-emulator.patch
patches.misc/0001-x86-fix-section-type-mismatch-in-mm.c.patch
patches.misc/xen-disable-cf-protection.patch
patches.misc/xen-efi-link-gcc8.patch



# TODO? patches.libxl/xen-libxl-stubdom-pci-create.patch
# TODO patches.libxl/xen-libxl-devid-to-nic-domid.patch

# vchan for stubdom:
patches.misc/0100-minios-enhance-xenstore-available-for-stubdoms.patch
patches.misc/0101-libvchan-create-xenstore-entries-in-one-transaction.patch
patches.misc/0102-libvchan-remove-unnecessary-includes.patch
patches.misc/0103-minios-implement-gntalloc-interface.patch
patches.misc/0104-libxc-implement-gntshr-for-minios.patch
patches.misc/0105-stubdom-make-libvchan-available-in-stubdom.patch

# Qubes specific patches
patches.qubes/xen-shared-loop-losetup.patch
patches.qubes/stubdom-vbd-non-dom0-backend.patch
patches.qubes/xen-no-downloads.patch
patches.qubes/xen-hotplug-external-store.patch
patches.qubes/xen-stubdom-qubes-gui.patch
patches.qubes/stubdom-lwip-fix-for-dhcp.patch
patches.qubes/xen-libxl-qubes-minimal-stubdom.patch
patches.qubes/xen-disable-dom0-qemu.patch
patches.qubes/libxl-disable-forced-vkb-for-HVM.patch
patches.qubes/xenconsoled-enable-logging.patch
patches.qubes/vm-0001-hotplug-do-not-attempt-to-remove-containing-xenstore.patch
patches.qubes/xen-hotplug-qubesdb-update.patch
